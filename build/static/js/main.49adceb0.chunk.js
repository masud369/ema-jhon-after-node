(this["webpackJsonpema-jhon-simple"]=this["webpackJsonpema-jhon-simple"]||[]).push([[0],{34:function(e){e.exports=JSON.parse("{}")},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(3),r=c.n(n),s=c(35),a=c.n(s),i=(c(46),c(10)),o=(c(47),c(19)),j=c.p+"static/media/amazon_PNG6.a6eb5586.png",l=(c(48),c(4)),u=function(){return Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("img",{src:j,alt:""}),Object(l.jsxs)("nav",{children:[Object(l.jsx)(o.b,{to:"/shop",children:"Shop"}),Object(l.jsx)(o.b,{to:"/review",children:"Order review"}),Object(l.jsx)(o.b,{to:"/manage",children:"Manage Inventory"})]})]})},d=c(12),b=(c(50),c(51),c(31)),O=c(29),m=function(e){var t=e.product,c=t.name,n=t.img,r=t.seller,s=t.price,a=t.stock,i=t.id;return Object(l.jsxs)("div",{className:"product-container",children:[Object(l.jsx)("div",{className:"product-img",children:Object(l.jsx)("img",{src:n,alt:""})}),Object(l.jsxs)("div",{className:"product-description",children:[Object(l.jsxs)("h4",{className:"product-name",children:[Object(l.jsxs)(o.b,{to:"/product/"+i,children:["Product Name:"," "+c]})," "]}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:Object(l.jsxs)("small",{children:["seller: ",r]})}),Object(l.jsxs)("p",{children:["Price:",s]}),Object(l.jsx)("p",{children:Object(l.jsxs)("small",{children:["Only ",a," in left -Order soon"]})}),e.showAddToCart&&Object(l.jsxs)("button",{className:"add-cart",onClick:function(){return e.handelProduct(e.product)},children:[Object(l.jsx)(b.a,{icon:O.a}),"add to cart"]})]})]})},h=(c(54),function(e){var t=e.cart,c=t.reduce((function(e,t){return e+t.price||1*t.quantity}),0),n=0;c>200?n=0:c>100?n=4.99:c>0&&(n=12.99);var r=(.1*c).toFixed(2),s=(Number(c)+Number(n)+Number(r)).toFixed(2);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Order Summery-"}),Object(l.jsxs)("h3",{children:["This is cart:",t.length]}),Object(l.jsxs)("h4",{children:["Total: ",c]}),Object(l.jsx)("h4",{children:Object(l.jsxs)("small",{children:["Tax:"," "+r]})}),Object(l.jsx)("p",{children:Object(l.jsxs)("small",{children:["Shipping cost: "," "+n]})}),Object(l.jsxs)("h3",{className:"red",children:["Grand total:"," "+s]}),e.children]})}),p=function(){var e=function(){var e=g.getItem("userId");if(e)return e;var t="user-"+(new Date).getTime();return g.setItem("userId",t),t}();return"emaJohn/carts/".concat(e)},x=function(){var e=p(),t=f.getItem(e)||"{}";return JSON.parse(t)},f=window.localStorage||function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,c){e[t]=c.toString()},clear:function(){e={}}}}(),g=window.sessionStorage||function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,c){e[t]=c.toString()},clear:function(){e={}}}}(),v=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([]),a=Object(i.a)(s,2),j=a[0],u=a[1];Object(n.useEffect)((function(){fetch("https://intense-harbor-52396.herokuapp.com/porducts").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(n.useEffect)((function(){var e=x(),t=Object.keys(e);console.log(c,t),fetch("https://intense-harbor-52396.herokuapp.com/productbyKeys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){u(e),console.log(e)}))}),[]);var g=function(e){console.log("product added "+e.quantity);var t,c=e.id,n=j.find((function(e){return e.id===c})),r=1;if(n){r=n.quantity+1,n.quantity=r;var s=j.filter((function(e){return e.id!==c}));t=[].concat(Object(d.a)(s),[n])}else e.quantity=1,t=[].concat(Object(d.a)(j),[e]);u(t),function(e,t){var c=x();c[e]=t,f.setItem(p(),JSON.stringify(c))}(e.id,r)};return Object(l.jsxs)("div",{className:"shop-container",children:[Object(l.jsx)("div",{className:"products-container",children:c.map((function(e){return Object(l.jsx)(m,{product:e,showAddToCart:!0,handelProduct:g},e.id)}))}),Object(l.jsx)("div",{className:"cart-container",children:Object(l.jsx)(h,{cart:j,children:Object(l.jsx)(o.b,{to:"/review",children:Object(l.jsxs)("button",{className:"add-cart",children:[" ",Object(l.jsx)(b.a,{icon:O.a})," Review Cart"]})})})})]})},y=c(11),S=c(9),N=(c(34),function(e){var t=e.product,c=t.name,n=t.quantity,r=t.id,s=t.price,a=t.img;return Object(l.jsxs)("div",{style:{borderBottom:"1px solid red",padding:"10px"},children:[Object(l.jsx)("img",{width:"120px",src:a,alt:""}),Object(l.jsxs)("h4",{children:["Name:"," "+c]}),Object(l.jsxs)("p",{children:["Quantity:"," "+n]}),Object(l.jsxs)("p",{children:["Price:"," "+s," "]}),Object(l.jsxs)("button",{onClick:function(){return e.removeItem(r)},className:"add-cart",children:[" ","Remove"]}),Object(l.jsx)("button",{onClick:function(){return e.removeQuantity(r)},children:"removeQuantity"}),Object(l.jsx)("button",{onClick:function(){return e.addQuantity(r)},children:"add Quantity"})]})}),w=c.p+"static/media/giphy.46a86830.gif",I=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){var e=x(),t=Object.keys(e);fetch("https://intense-harbor-52396.herokuapp.com/productbyKeys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){r(e),console.log(e)}))}),[]);var s,a=function(e,t){console.log(e);var n=Object(S.a)({},c.find((function(t){return t.id===e})));if(1===n.quantity||n.quantity>1){"+"===t?n.quantity=n.quantity+1:(n.quantity>2||2===n.quantity)&&(n.quantity=n.quantity-1);var s=Object(d.a)(c),a=s.indexOf(c.find((function(t){return t.id===e})));s[a]=n,r(s)}},o=function(e){a(e,"-")},j=function(e){a(e,"+")},u=function(e){var t=c.filter((function(t){return t.id!==e}));r(t),function(e){var t=x();delete t[e],f.setItem(p(),JSON.stringify(t))}(e)},b=Object(n.useState)(!1),O=Object(i.a)(b,2),m=O[0],g=(O[1],Object(y.n)());return m&&(s=Object(l.jsx)("img",{src:w,alt:""})),Object(l.jsxs)("div",{className:"shop-container",children:[Object(l.jsxs)("div",{className:"products-container",children:[Object(l.jsxs)("h2",{children:[" The total item ",c.length]}),c.map((function(e){return Object(l.jsx)(N,{addQuantity:j,removeQuantity:o,removeItem:u,product:e},e.id)})),s]}),Object(l.jsx)("div",{className:"cart-container",children:Object(l.jsx)(h,{cart:c,children:Object(l.jsx)("button",{onClick:function(){g("/shipment")},className:"add-cart",children:"Porceed Checkout"})})})]})},k=function(){return Object(l.jsx)("div",{children:Object(l.jsxs)("h2",{children:["Nothing found...00(",Object(l.jsx)("small",{children:"something went wrong"})," )"]})})},q=function(){return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{action:"",children:[Object(l.jsx)("p",{children:Object(l.jsxs)("spam",{children:["Nmae:",Object(l.jsx)("input",{type:"text"})]})}),Object(l.jsx)("p",{children:Object(l.jsxs)("spam",{children:["Price:",Object(l.jsx)("input",{type:"text"})]})}),Object(l.jsx)("p",{children:Object(l.jsxs)("spam",{children:["Quantity:",Object(l.jsx)("input",{type:"text"})]})}),Object(l.jsx)("p",{children:Object(l.jsxs)("spam",{children:["ProductImage:",Object(l.jsx)("input",{type:"file"})]})})]})})},C=function(){var e=Object(y.p)().productId,t=Object(n.useState)({}),c=Object(i.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){fetch("https://intense-harbor-52396.herokuapp.com/porducts/".concat(e)).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[e]),console.log(r),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{children:[e+" ","The product details"]}),Object(l.jsx)(m,{showAddToCart:!1,product:r})]})},T=c(38),P=(c(55),function(){var e=Object(n.useContext)(R),t=Object(i.a)(e,2),c=t[0],r=(t[1],Object(T.a)()),s=r.register,a=r.handleSubmit,o=r.watch,j=r.formState.errors;return console.log(o("example")),Object(l.jsxs)("form",{className:"ship-from",onSubmit:a((function(e){var t=x();console.log("from submitted",e);var n=Object(S.a)(Object(S.a)({},c),{},{products:t,shipment:e});fetch("https://intense-harbor-52396.herokuapp.com/orderProducts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log("data submitted",e),e&&(f.removeItem(p()),alert("order placed successfully!!"))}))})),children:[Object(l.jsx)("input",Object(S.a)(Object(S.a)({defaultValue:c.name},s("name",{required:!0})),{},{placeholder:"your name"})),j.name&&Object(l.jsx)("span",{className:"error",children:"Name is required"}),Object(l.jsx)("input",Object(S.a)(Object(S.a)({defaultValue:c.email},s("email",{required:!0})),{},{placeholder:"your email"})),j.email&&Object(l.jsx)("span",{className:"error",children:"Email is required"}),Object(l.jsx)("input",Object(S.a)(Object(S.a)({},s("address",{required:!0})),{},{placeholder:"your address"})),j.address&&Object(l.jsx)("span",{className:"error",children:"Address is required"}),Object(l.jsx)("input",Object(S.a)(Object(S.a)({},s("phone",{required:!0})),{},{placeholder:"your phone number"})),j.phone&&Object(l.jsx)("span",{className:"error",children:"Phone number is required"}),Object(l.jsx)("input",{type:"submit"})]})}),E=c(36),F={apiKey:"AIzaSyDd9kOI8KbdFrKX5nF7TzNkEJlPTS8eybQ",authDomain:"fir-recap-3cc1e.firebaseapp.com",projectId:"fir-recap-3cc1e",storageBucket:"fir-recap-3cc1e.appspot.com",messagingSenderId:"973994111735",appId:"1:973994111735:web:e1bc86953e92feeb1f59f2"},J=c(17),B=(Object(E.a)(F),function(){var e=Object(n.useContext)(R),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(y.n)(),a=Object(y.l)(),o=Object(n.useState)([]),j=Object(i.a)(o,2),u=j[0],d=j[1],b=Object(n.useState)([]),O=Object(i.a)(b,2),m=(O[0],O[1]),h=new J.c,p=new J.a,x=new J.b,f=Object(n.useState)({success:!1,name:"",email:"",password:"",error:""}),g=Object(i.a)(f,2),v=g[0],N=g[1],w=Object(n.useState)(!1),I=Object(i.a)(w,2),k=I[0],q=I[1],C=function(e){var t=!0;if("email"===e.target.name&&(t=e.target.value),"password"===e.target.name&&(t=e.target.value),t){var c=Object(S.a)({},v);c[e.target.name]=e.target.value,N(c)}};return Object(l.jsxs)("div",{style:{textAlign:"center"},children:[Object(l.jsx)("button",{onClick:function(){var e=Object(J.e)();Object(J.g)(e,h).then((function(e){J.c.credentialFromResult(e).accessToken;var t,n=e.user,i=Object(S.a)({},c);i.email=n.email,i.name=n.displayName,r(i),d(n),console.log(n),null!==(t=a.state)&&void 0!==t&&t.from&&s(a.state.from.pathname),console.log(a.state.from.pathname)})).catch((function(e){e.code,e.message,e.customData.email,J.c.credentialFromError(e)}))},children:"Sign in google"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("img",{src:u.photoURL,alt:""}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:function(){var e=Object(J.e)();Object(J.g)(e,p).then((function(e){var t,n=e.user;console.log(n),m(n);var i=Object(S.a)({},c);i.email=n.email,r(i),console.log(c),null!==(t=a.state)&&void 0!==t&&t.from&&s(a.state.from.pathname);J.a.credentialFromResult(e).accessToken})).catch((function(e){e.code,e.message,e.customData.email,J.a.credentialFromError(e)}))},children:"Sing in with facebook "}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:function(){var e=Object(J.e)();Object(J.g)(e,x).then((function(e){J.b.credentialFromResult(e).accessToken;var t,n=e.user,i=Object(S.a)({},c);i.email=n.email,r(i),null!==(t=a.state)&&void 0!==t&&t.from&&s(a.state.from.pathname)})).catch((function(e){var t=e.code,c=e.message;console.log(t,c);e.customData.email,J.b.credentialFromError(e)}))},children:"Sing in with Github "}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"checkbox",name:"signup",onChange:function(){return q(!k)},id:"signup"}),Object(l.jsx)("label",{htmlFor:"signup",children:" Sign Up"})," ",Object(l.jsx)("br",{}),Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),k&&v.email&&v.password){var t=Object(J.e)();Object(J.d)(t,v.email,v.password).then((function(e){var t,n=e.user;console.log(n);var i=Object(S.a)({},v);i.success=!0,N(i);var o=Object(S.a)({},c);o.email=n.email,r(o),document.getElementById("mail").value="",document.getElementById("password").value="",null!==(t=a.state)&&void 0!==t&&t.from&&s(a.state.from)})).catch((function(e){var t=e.code,c=e.message,n=t&&c,r=Object(S.a)({},v);r.success=!1,r.error=n,N(r)}))}if(!k&&v.email&&v.password){var n=Object(J.e)();Object(J.f)(n,v.email,v.password).then((function(e){var t,n=e.user;console.log(n);var i=Object(S.a)({},v);i.success=!0,N(i);var o=Object(S.a)({},c);o.email=n.email,r(o),null!==(t=a.state)&&void 0!==t&&t.from&&s(a.state.from),document.getElementById("mail").value="",document.getElementById("password").value=""})).catch((function(e){var t=e.code,c=e.message,n=t&&c,r=Object(S.a)({},v);r.success=!1,r.error=n,N(r)}))}},children:[k&&Object(l.jsx)("input",{type:"text",placeholder:"Your name"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Email:",Object(l.jsx)("input",{type:"email",name:"email",id:"mail",onBlur:C,required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Password:"," ",Object(l.jsx)("input",{type:"password",name:"password",onBlur:C,id:"password",required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"submit",value:"Sign in"}),console.log(v.email,v.password)]}),v.success&&Object(l.jsxs)("p",{style:{color:"green"},children:["signed ",k?"up":"in"," properly"]}),!v.success&&Object(l.jsx)("p",{style:{color:"red"},children:v.error})]})}),Q=c(37),D=function(e){Object(Q.a)(e);var t=Object(n.useContext)(R),c=Object(i.a)(t,2),r=c[0],s=(c[1],Object(y.l)());return console.log(r.email),console.log({loginUser:r}),r.email?Object(l.jsx)(y.b,{}):Object(l.jsx)(y.a,{to:"/login",replace:!0,state:{from:s}})},R=Object(n.createContext)();var A=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(l.jsxs)(R.Provider,{value:[c,r],children:[Object(l.jsxs)("h2",{children:["email: ",c.email]}),Object(l.jsx)("div",{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(u,{}),Object(l.jsxs)(y.e,{children:[Object(l.jsx)(y.c,{path:"/shop",element:Object(l.jsx)(v,{})}),Object(l.jsx)(y.c,{path:"/review",element:Object(l.jsx)(I,{})}),Object(l.jsx)(y.c,{path:"/",element:Object(l.jsx)(v,{})}),Object(l.jsx)(y.c,{path:"/shipment",element:Object(l.jsx)(D,{}),children:Object(l.jsx)(y.c,{path:"/shipment",element:Object(l.jsx)(P,{})})}),Object(l.jsx)(y.c,{path:"/manage",element:Object(l.jsx)(D,{}),children:Object(l.jsx)(y.c,{path:"/manage",element:Object(l.jsx)(q,{})})}),Object(l.jsx)(y.c,{path:"/login",element:Object(l.jsx)(B,{})}),Object(l.jsx)(y.c,{path:"/",element:Object(l.jsx)(v,{})}),Object(l.jsx)(y.c,{path:"/product/:productId",element:Object(l.jsx)(C,{})}),Object(l.jsx)(y.c,{path:"/*",element:Object(l.jsx)(k,{})})]})]})})]})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,57)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(A,{})})),K()}},[[56,1,2]]]);
//# sourceMappingURL=main.49adceb0.chunk.js.map